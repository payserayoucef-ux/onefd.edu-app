<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงูุฏุฑุงุณุฉ ุจุงููุฑุงุณูุฉ - ููุณู</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
   
    <style>
        /* [ ... ุฃููุงุฏ CSS ููุตุญููุญุฉ ูููุชููุฉ ... ] */
       
        /* ุชูุณูู ุนุงู */
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f7f6; /* ุฎูููุฉ ูุงุชุญุฉ */
            color: #333;
            margin: 0;
            padding: 0;
            direction: rtl; /* ุถูุงู ุชูุฌูู ูุงูู ูููููู */
            text-align: right;
            overflow-x: hidden;
        }

        /* ุงูุฑุฃุณ ูุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ */
        header {
            background-color: #007bff; /* ุฃุฒุฑู ุฃุณุงุณู ููุฏููุงู */
            color: white;
            padding: 15px 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-title {
            margin: 0 auto;
            font-size: 1.2rem;
        }

        .menu-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0 10px;
        }

        /* ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ */
        #sidebar {
            height: 100%;
            width: 250px;
            position: fixed;
            z-index: 150;
            top: 0;
            right: -250px;
            background-color: #111;
            overflow-x: hidden;
            transition: 0.5s;
            padding-top: 60px;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.3);
        }

        #sidebar.open {
            right: 0;
        }

        #sidebar a {
            padding: 15px 25px;
            text-decoration: none;
            font-size: 16px;
            color: #818181;
            display: block;
            transition: 0.3s;
            border-bottom: 1px solid #333;
        }

        #sidebar a:hover {
            color: #f1f1f1;
            background-color: #007bff;
        }

        .close-btn {
            position: absolute;
            top: 0;
            left: 25px; 
            font-size: 36px;
            margin-left: 0;
            right: 15px; 
            background: none;
            border: none;
            color: white;
            cursor: pointer;
        }
        
        /* ุชูุณูู ุฒุฑ ุดุจูู ุจุงูุฒุฑ ุงูุฃุญูุฑ */
        .sidebar-action-btn {
            padding: 10px 20px; 
            text-decoration: none; 
            color: white; 
            border-radius: 5px; 
            font-weight: bold; 
            display: block; /* ุฌุนูู ูููุฃ ุงูุนุฑุถ */
            margin: 10px 20px; /* ูุฅุนุทุงุก ูุงูุด ูู ุงูุฌุงูุจูู */
            text-align: center;
            transition: background-color 0.3s;
        }
        
        .sidebar-action-btn.report {
            background-color: #dc3545; /* ุฃุญูุฑ */
        }
        
        .sidebar-action-btn.report:hover {
            background-color: #c82333;
        }

        .sidebar-action-btn.privacy {
            background-color: #007bff; /* ุฃุฒุฑู */
        }

        .sidebar-action-btn.privacy:hover {
            background-color: #0056b3;
        }

        /* ูุญุชูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ */
        #main-content {
            padding: 20px;
            transition: margin-right 0.5s;
            max-width: 800px;
            margin: 0 auto;
        }

        .welcome-section {
            text-align: center;
            padding: 30px 0;
            color: #007bff;
        }

        .welcome-section h1 {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .welcome-section h2 {
            font-size: 1.5rem;
            color: #333;
            font-weight: normal;
        }

        /* ุฃุฒุฑุงุฑ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ */
        .main-buttons-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .main-btn {
            background-color: white;
            color: #007bff;
            border: 2px solid #007bff;
            padding: 20px 10px;
            font-size: 1.1rem;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .main-btn i {
            display: block;
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .main-btn:hover {
            background-color: #007bff;
            color: white;
            transform: translateY(-3px);
        }


        /* ุฃุฒุฑุงุฑ ุงูุชูุงุตู ุงูุงุฌุชูุงุนู */
        .social-media-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px 0;
            gap: 15px;
        }

        .social-media-container p {
            font-weight: bold;
            font-size: 1.1rem;
            color: #555;
            margin-left: 15px;
        }

        .social-icon {
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            color: white;
            font-size: 1.5rem;
            transition: transform 0.3s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .social-icon:hover {
            transform: scale(1.1);
        }

        .telegram { background-color: #0088cc; }
        .whatsapp { background-color: #25d366; }
        .instagram { background-color: #c32aa3; }
        .facebook { background-color: #4267b2; }
        .youtube { background-color: #ff0000; }

        /* ุญุงููุฉ ุงูุตูุญุงุช ุงููุฑุนูุฉ */
        #pages-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #f4f7f6;
            z-index: 200;
            display: none;
            overflow-y: auto;
        }

        .sub-page {
            padding: 20px;
            max-width: 800px;
            margin: 50px auto 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            text-align: right;
        }

        .sub-page h2 {
            color: #007bff;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .sub-page h3 {
            color: #333;
            margin-top: 25px;
            margin-bottom: 10px;
            border-right: 3px solid #007bff;
            padding-right: 10px;
            font-size: 1.2rem;
        }
        
        .sub-page p {
            line-height: 1.8;
            margin-bottom: 10px;
        }
        
        .sub-page ul {
            padding-right: 20px;
        }
        
        .sub-page li {
            margin-bottom: 5px;
            line-height: 1.6;
        }

        .back-btn {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            /* ุชูุฌูู ุงูุฃููููุฉ ููุฌูุฉ ุงูุตุญูุญุฉ */
            flex-direction: row-reverse;
            justify-content: space-between;
        }
       
        .back-btn i {
            margin-right: 5px;
        }

        .sub-page-btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            background-color: #e9ecef;
            border: 1px solid #ced4da;
            border-radius: 5px;
            text-align: right;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
            text-decoration: none;
            color: #333;
            font-weight: bold;
        }

        .sub-page-btn:hover {
            background-color: #007bff;
            color: white;
        }
       
        .hidden {
            display: none !important;
        }

        /* ุชูุณููุงุช ุงููุญุงูู ุงูุฅุถุงููุฉ */
        .quiz-option {
            background-color: #e9ecef;
            color: #333;
            border: 1px solid #ced4da;
            text-align: right;
        }

        .quiz-option.selected-option {
            background-color: #007bff; /* ููู ุงูุชุญุฏูุฏ */
            color: white;
            border-color: #007bff;
        }

        .options-container {
            display: grid;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .quiz-option:hover {
            background-color: #d0d7de;
            color: #333;
        }

        .quiz-option.selected-option:hover {
            background-color: #0056b3;
            color: white;
        }
        .quiz-simulator-btn i {
            color: #333;
        }
    </style>
</head>
<body>

    <div id="sidebar">
        <button class="close-btn" onclick="toggleSidebar()"><i class="fas fa-times"></i></button>
        <div class="sidebar-header">
            <h3>ูุงุฆูุฉ ุงูุฎุฏูุงุช ุงูุฅุถุงููุฉ</h3>
        </div>
       
        <a href="#" onclick="showPage('about-page'); return false;"><i class="fas fa-lightbulb"></i> ูุง ูู ุงูุฏุฑุงุณุฉ ุจุงููุฑุงุณูุฉุ</a>
        <a href="#" onclick="showPage('check-level-page'); return false;"><i class="fas fa-check-circle"></i> ุงูุชุญูู ูู ูุจููู ูู ุงููุณุชูู ุงูุฃุนูู</a>
        <a href="#" onclick="showPage('centers-page'); return false;"><i class="fas fa-phone-alt"></i> ุงูุงุชุตุงู ุจุงููุฑุงูุฒ ุงูููุงุฆูุฉ</a>
        <a href="#" onclick="showPage('donation-page'); return false;"><i class="fas fa-heart"></i> ุงูุชุจุฑุน ูุฏุนู ุงููููุน</a>
        <a href="#" onclick="showPage('about-app-page'); return false;"><i class="fas fa-info-circle"></i> ุญูู ุงููููุน</a>
        <a href="#" onclick="shareApp()"><i class="fas fa-share-alt"></i> ูุดุงุฑูุฉ ุงููููุน</a>
        
        <hr style="border-top: 1px solid #333; margin: 10px 0;">

        <button class="sidebar-action-btn privacy" onclick="showPage('privacy-page')">
            <i class="fas fa-shield-alt"></i> ุณูุงุณุฉ ุงูุฎุตูุตูุฉ
        </button>
        <a href="mailto:paserayoucef@gmail.com?subject=ุฅุจูุงุบ ุนู ูุดููุฉ ูู ูุธุงู ุงูุฃุณุฆูุฉ" class="sidebar-action-btn report" role="button">
            <i class="fas fa-exclamation-triangle"></i> ุงูุฅุจูุงุบ ุนู ูุดููุฉ
        </a>
    </div>
   
    <header>
        <button class="menu-btn" onclick="toggleSidebar()">
            <i class="fas fa-bars"></i>
        </button>
        <h1 class="header-title">ุงูุฏุฑุงุณุฉ ุจุงููุฑุงุณูุฉ - ููุณู</h1>
    </header>

    <main id="main-content">
       
        <div class="welcome-section">
            <h1>ุฃููุงู ุจู ุฃููุง ุงููุชุนูู ๐</h1>
            <h2>ูู ูููุน **ุงูุฏุฑุงุณุฉ ุจุงููุฑุงุณูุฉ - ููุณู**</h2>
            <p>ุจูุงุจุชู ุงูุณุฑูุนุฉ ูุฌููุน ุฎุฏูุงุช ุงูุฏููุงู ุงููุทูู ููุชุนููู ูุงูุชูููู ุนู ุจุนุฏ</p>
        </div>

        <div class="main-buttons-container">
            <button class="main-btn" onclick="showPage('registration-page')">
                <i class="fas fa-user-plus"></i> ุงูุชุณุฌูู ูู ุงููุฑุงุณูุฉ
            </button>
            <button class="main-btn" onclick="showPage('documents-page')">
                <i class="fas fa-file-alt"></i> ุณุญุจ ุงููุซุงุฆู
            </button>
            <button class="main-btn" onclick="showPage('platforms-page')">
                <i class="fas fa-book-reader"></i> ุงูุฃุฑุถูุงุช ุงูุชุนููููุฉ
            </button>
            <button class="main-btn" onclick="showPage('e-homework-page')">
                <i class="fas fa-laptop-code"></i> ุงููุฑุถ ุงูุฅููุชุฑููู
            </button>
           
            <button class="main-btn quiz-simulator-btn" onclick="showPage('quiz-simulator-page')">
                <i class="fas fa-gamepad"></i> ูุญุงูู ุงููุฑุถ ุงูุฅููุชุฑููู
            </button>
            </div>

        <hr>

        <div class="social-media-container">
            <p>ุชูุงุตู ูุนูุง: </p>
            <a href="https://t.me/youcef_info_2" target="_blank" class="social-icon telegram"><i class="fab fa-telegram-plane"></i></a>
            <a href="https://wa.me/213665074666" target="_blank" class="social-icon whatsapp"><i class="fab fa-whatsapp"></i></a>
            <a href="https://www.instagram.com/youcef.info2" target="_blank" class="social-icon instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://www.facebook.com/share/g/1BfUsNqXFf/" target="_blank" class="social-icon facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="https://youtube.com/channel/UCWorEGsMcnwrSPYEFXhnfkw?si=q98lYPriNUD0ax0O" target="_blank" class="social-icon youtube"><i class="fab fa-youtube"></i></a>
        </div>
    </main>
   
    <div id="pages-container">
    </div>
   
    <div id="loading-overlay" class="hidden">
        <div class="spinner"></div>
        <p>ุฌุงุฑู ุชุญููู ุงูุตูุญุฉุ ูุฑุฌู ุงูุงูุชุธุงุฑ...</p>
    </div>

    <script>
        // --- ุจูุงูุงุช ุงููุญุงูู ุงูููููุฉ (Dummy Data) ---
        const quizData = {
            'moyen': {
                '1am': { 
                    'arabic': [
                        { id: 1, q: "ูุง ูู ุงููุงุนู ูู ุฌููุฉ: ูุชุจ ุงูุทุงูุจ ุงูุฏุฑุณุ", options: ["ุงูุฏุฑุณ", "ูุชุจ", "ุงูุทุงูุจ", "ุฌููุฉ"], a: "ุงูุทุงูุจ" },
                        { id: 2, q: "ูุง ููุน ุงููุต ุฅุฐุง ูุงู ูุชูุงูู ุณูุฑุฉ ุดุฎุตุ", options: ["ูุตูู", "ุณุฑุฏู", "ุญุฌุงุฌู", "ุชูุณูุฑู"], a: "ุณุฑุฏู" },
                        { id: 3, q: "ุฌูุน ูููุฉ 'ูุชุงุจ' ููุ", options: ["ูุชุจ", "ูุชุงุจุงุช", "ููุงุชุจ", "ูุงุชุจูู"], a: "ูุชุจ" }
                    ],
                    'math': [
                        { id: 4, q: "ูุงุชุฌ ุนูููุฉ 5 + 3 ููุ", options: ["7", "8", "9", "15"], a: "8" },
                        { id: 5, q: "ูุง ูู ุงูุนุฏุฏ ุงูุฃููู ุงูุฃุตุบุฑุ", options: ["0", "1", "2", "3"], a: "2" },
                        { id: 6, q: "ูุณุงุญุฉ ูุฑุจุน ุทูู ุถูุนู 4 ุณูุ", options: ["8 ุณูยฒ", "16 ุณูยฒ", "4 ุณูยฒ", "12 ุณูยฒ"], a: "16 ุณูยฒ" }
                    ],
                },
                '2am': { 'arabic': [{ id: 7, q: "ุณุคุงู 2am ุนุฑุจู 1ุ", options: ["ุฃ", "ุจ", "ุฌ", "ุฏ"], a: "ุฃ" }] },
                '3am': { 'arabic': [{ id: 8, q: "ุณุคุงู 3am ุนุฑุจู 1ุ", options: ["ุฃ", "ุจ", "ุฌ", "ุฏ"], a: "ุฃ" }] },
                '4am': { 'arabic': [{ id: 9, q: "ุณุคุงู 4am ุนุฑุจู 1ุ", options: ["ุฃ", "ุจ", "ุฌ", "ุฏ"], a: "ุฃ" }] }
            },
            'secondary': {
                '1as': { 
                    'arabic': [
                        { id: 10, q: "ูุง ูู ุงูุญุฑูุฉ ุงูุฅุนุฑุงุจูุฉ ูู 'ูุชุงุจ' ูู: ูุฑุฃุช ูุชุงุจุงูุ", options: ["ุงูุถูุฉ", "ุงููุณุฑุฉ", "ุงููุชุญุฉ", "ุงูุณููู"], a: "ุงููุชุญุฉ" },
                        { id: 11, q: "ุดุงุนุฑ ุฌุงููู ูุนุฑููุ", options: ["ุงููุชูุจู", "ุงูุฑุค ุงูููุณ", "ุฃุจู ุงูุนูุงุก ุงููุนุฑู", "ุฃุจู ููุงุณ"], a: "ุงูุฑุค ุงูููุณ" },
                        { id: 12, q: "ุงูุงุณู ุงูููุตูู ูู ุงูุฃุณูุงุก ุงูุชุงููุฉ ููุ", options: ["ุฃูุช", "ูุฐุง", "ุงูุฐู", "ูู"], a: "ุงูุฐู" }
                    ],
                    'math': [
                        { id: 13, q: "ุญู ุงููุนุงุฏูุฉ x + 5 = 10 ููุ", options: ["x=2", "x=5", "x=15", "x=10"], a: "x=5" },
                        { id: 14, q: "ุตูุฑุฉ ุงูุฏุงูุฉ f(x) = 2x ุนูุฏ x=3 ููุ", options: ["5", "6", "8", "9"], a: "6" },
                        { id: 15, q: "ูููุฉ Pi ุงูุชูุฑูุจูุฉ ููุ", options: ["3.14", "2.71", "1.61", "1.41"], a: "3.14" }
                    ],
                },
                '2as': { 'arabic': [{ id: 16, q: "ุณุคุงู 2as ุนุฑุจู 1ุ", options: ["ุฃ", "ุจ", "ุฌ", "ุฏ"], a: "ุฃ" }] },
                '3as': { 'arabic': [{ id: 17, q: "ุณุคุงู 3as ุนุฑุจู 1ุ", options: ["ุฃ", "ุจ", "ุฌ", "ุฏ"], a: "ุฃ" }] }
            }
        };

        // ูุงุฆูุฉ ุงูููุงุฏ ุงููุดุชุฑูุฉ
        const materials = [
            { id: 'arabic', name: 'ูุงุฏุฉ ุงููุบุฉ ุงูุนุฑุจูุฉ', icon: 'fas fa-language' },
            { id: 'math', name: 'ูุงุฏุฉ ุงูุฑูุงุถูุงุช', icon: 'fas fa-calculator' },
            { id: 'islamic', name: 'ูุงุฏุฉ ุงูุชุฑุจูุฉ ุงูุงุณูุงููุฉ', icon: 'fas fa-mosque' },
            { id: 'history_geo', name: 'ูุงุฏุฉ ุงูุชุงุฑูุฎ ู ุงูุฌุบุฑุงููุง', icon: 'fas fa-globe-asia' },
            { id: 'natural_science', name: 'ูุงุฏุฉ ุงูุนููู ุงูุทุจูุนูุฉ', icon: 'fas fa-leaf' },
            { id: 'physical_science', name: 'ูุงุฏุฉ ุงูุนููู ุงูููุฒูุงุฆูุฉ', icon: 'fas fa-flask' }
        ];

        let currentQuizState = {
            levelType: null, 
            levelCode: null, 
            materialId: null, 
            questions: [],
            currentQIndex: 0,
            answers: {}, 
            score: 0
        };

        const pagesContainer = document.getElementById('pages-container');
        const loadingOverlay = document.getElementById('loading-overlay');
        
        // --- ุงูุฏูุงู ุงูุฃุณุงุณูุฉ ููุชุญูู ุจุงููุงุฌูุฉ ---

        function toggleSidebar() {
            document.getElementById("sidebar").classList.toggle("open");
        }

        function showPage(pageId) {
            toggleSidebar();
            document.getElementById('main-content').style.display = 'none';
            pagesContainer.style.display = 'block';
            pagesContainer.innerHTML = '';
           
            // ุชูููุฐ ุงูุฏุงูุฉ ุงูููุงุณุจุฉ ุจูุงุกู ุนูู ุงูู ID
            if (pageId === 'quiz-simulator-page') {
                buildQuizSimulatorPage();
            } else if (pageId === 'registration-page') {
                buildRegistrationPage();
            } else if (pageId === 'documents-page') {
                buildDocumentsPage();
            } else if (pageId === 'platforms-page') {
                buildPlatformsPage();
            } else if (pageId === 'e-homework-page') {
                buildEHomeworkPage();
            } else if (pageId === 'privacy-page') {
                buildPrivacyPolicyPage(); 
            }
        }

        function goBack() {
            pagesContainer.style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
            pagesContainer.innerHTML = '';
            // ุฅุนุงุฏุฉ ุชุนููู ุญุงูุฉ ุงููุญุงูู
            currentQuizState = { levelType: null, levelCode: null, materialId: null, questions: [], currentQIndex: 0, answers: {}, score: 0 };
        }

        function openExternalLink(url, title = "ุฌุงุฑู ุงูุชุญููู...") {
            window.open(url, '_blank');
        }

        function createLinkButton(text, url) {
            return `<button class="sub-page-btn" onclick="openExternalLink('${url}', '${text}')">
                ${text} <i class="fas fa-external-link-alt" style="float: left;"></i>
            </button>`;
        }

        // --- ุฏูุงู ุงูุฑุฌูุน ุฏุงุฎู ุงููุญุงูู ---

        function goBackQuizSimulator(step) {
            if (step === 'level_selection') {
                buildQuizSimulatorPage();
            } else if (step === 'grade_selection') {
                buildQuizSimulatorLevel(currentQuizState.levelType);
            } else if (step === 'material_selection') {
                buildQuizSimulatorMaterial(currentQuizState.levelCode);
            }
        }
        
        // --- ุฏูุงู ุจูุงุก ุงูุตูุญุงุช ุงููุฑุนูุฉ ---

        function buildRegistrationPage() {
            const html = `<div class="sub-page"><button class="back-btn" onclick="goBack()"><i class="fas fa-arrow-right"></i> ุฑุฌูุน</button><h2>ุงูุชุณุฌูู ูู ุงููุฑุงุณูุฉ ๐</h2>${createLinkButton('ุชุณุฌูู ูุชุนูู ุฌุฏูุฏ', '#')}${createLinkButton('ุชุณุฌูู ูุชุนูู ุณุงุจู', '#')}</div>`;
            pagesContainer.innerHTML = html;
        }
        function buildDocumentsPage() {
            const html = `<div class="sub-page"><button class="back-btn" onclick="goBack()"><i class="fas fa-arrow-right"></i> ุฑุฌูุน</button><h2>ุณุญุจ ูุทุจุน ุงููุซุงุฆู ๐จ๏ธ</h2>${createLinkButton('ุฅุนุงุฏุฉ ุทุจุน ูุซุงุฆู ุงูุชุณุฌูู', '#')}</div>`;
            pagesContainer.innerHTML = html;
        }
        function buildPlatformsPage() {
            const html = `<div class="sub-page"><button class="back-btn" onclick="goBack()"><i class="fas fa-arrow-right"></i> ุฑุฌูุน</button><h2>ุงูุฃุฑุถูุงุช ุงูุชุนููููุฉ (Scolarium) ๐</h2>${createLinkButton('ุงููุณุชูู ุงููุชูุณุท', '#')}</div>`;
            pagesContainer.innerHTML = html;
        }
        function buildEHomeworkPage() {
            const html = `<div class="sub-page"><button class="back-btn" onclick="goBack()"><i class="fas fa-arrow-right"></i> ุฑุฌูุน</button><h2>ููุตุฉ ุงููุฑุถ ุงูุฅููุชุฑููู ๐ป</h2><p>ููุง ุณุชุถุน ุฑูุงุจุท ุงููุฑุถ ุงูุฅููุชุฑููู ุงูุญููููุฉ</p></div>`;
            pagesContainer.innerHTML = html;
        }

        // **** ุงูุฏุงูุฉ ุงููุญุฏุซุฉ ูุตูุญุฉ ุณูุงุณุฉ ุงูุฎุตูุตูุฉ ****
        function buildPrivacyPolicyPage() {
            const html = `
                <div class="sub-page" id="privacy-policy-page">
                    <button class="back-btn" onclick="goBack()"><i class="fas fa-arrow-right"></i> ุฑุฌูุน</button>
                    <h2><i class="fas fa-shield-alt"></i> ุณูุงุณุฉ ุงูุฎุตูุตูุฉ ููููุน "ุงูุฏุฑุงุณุฉ ุจุงููุฑุงุณูุฉ - ููุณู" ๐ก๏ธ</h2>
                    <p style="font-weight: bold; margin-bottom: 20px;">ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ: ููููุจุฑ 2024</p>
                    <p>ูุญู ูู ูููุน "ุงูุฏุฑุงุณุฉ ุจุงููุฑุงุณูุฉ - ููุณู" ูููู ุฃูููุฉ ูุตูู ูุฎุตูุตูุฉ ูุณุชุฎุฏูููุง. ุชู ุชุตููู ูุฐุง ุงููููุน ููููู ุฃุฏุงุฉ ูุณุงุนุฏุฉุ ููุฐูู ูุฅู ุณูุงุณุชูุง ุชุนุชูุฏ ุนูู ูุจุฏุฃ <strong>ุนุฏู ุฌูุน ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ</strong>.</p>
                    
                    <h3>1. ุฌูุน ุงููุนูููุงุช ุงูุดุฎุตูุฉ</h3>
                    <ul>
                        <li><strong>ุนุฏู ุงูุชุฌููุน ุงููุจุงุดุฑ:</strong> ูุญู ูุง ูููู ุจุฌูุน ุฃู ุชุฎุฒูู ุฃู ูุนูููุงุช ุดุฎุตูุฉ ุชุญุฏุฏ ูููุชู ุจุดูู ูุจุงุดุฑ (ูุซู ุงูุงุณู ุงููุงููุ ุฑูู ุงููุงุชูุ ุฃู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู) ุนูุฏ ุงุณุชุฎุฏุงูู ูุฎุฏูุงุช ุงููููุน ุงูุฏุงุฎููุฉ ุฃู ูุญุงูู ุงููุฑุถ ุงูุฅููุชุฑููู.</li>
                        <li><strong>ุงูุฅุจูุงุบ ุนู ูุดููุฉ:</strong> ุนูุฏ ุงุณุชุฎุฏุงูู ูุฒุฑ ุงูุฅุจูุงุบ ุนู ูุดููุฉุ ูุชู ูุชุญ ุชุทุจูู ุจุฑูุฏ ุฅููุชุฑููู ุฎุงุฑุฌูุ ูุชููู ุงูุจูุงูุงุช ุงูุชู ุชุฑุณููุง (ูุซู ุจุฑูุฏู ุงูุฅููุชุฑููู) ุฎุงุถุนุฉ ูุณูุงุณุงุช ูุฒูุฏ ุฎุฏูุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุงูุฎุงุต ุจู.</li>
                    </ul>
                    
                    <h3>2. ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงููุญููุฉ (Local Storage)</h3>
                    <ul>
                        <li><strong>ูุชุงุฆุฌ ุงููุญุงูู:</strong> ูุนุชูุฏ "ูุญุงูู ุงููุฑุถ ุงูุฅููุชุฑููู" ุนูู ุชูููุฉ ุงูุชุฎุฒูู ุงููุญูู (Local Storage) ููุชุตูุญู ููุท.</li>
                        <li><strong>ูุงุฐุง ูุชู ุชุฎุฒูููุ</strong> ูุชู ุชุฎุฒูู ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑุงุช ุงูุชู ุฃุฌุฑูุชูุง (ุงูุฏุฑุฌุฉ ูู 20) ุจุดูู ูุญูู ุนูู ุฌูุงุฒู ููุญุงูู ุงููุฑุถ ุงูุงููุชุฑููู ุงูุฎุงุต ุจุงููููุน ููุท.</li>
                        <li><strong>ุงูุฃูุงู:</strong> ูุฐู ุงููุชุงุฆุฌ ูุง ูุชู ุฅุฑุณุงููุง ุฅูู ุฃู ุฎุงุฏู ุชุงุจุน ููุง ุฃู ุฅูู ุฃู ุทุฑู ุซุงูุซ. ุนูุฏ ูุณุญ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุชุตูุญู ุฃู ุงุณุชุฎุฏุงู ูุถุน ุงูุชุตูุญ ุงูุฎููุ ุณูุชู ุญุฐู ูุฐู ุงููุชุงุฆุฌ ุจุดูู ููุงุฆู ูู ุฌูุงุฒู.</li>
                    </ul>

                    <h3>3. ุงูุฑูุงุจุท ูุงูุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ</h3>
                    <ul>
                        <li><strong>ุงูููุตุงุช ุงูุฑุณููุฉ:</strong> ูุญุชูู ุงููููุน ุนูู ุฑูุงุจุท ูุจุงุดุฑุฉ ุชูููู ุฅูู ููุตุงุช ุงูุฏููุงู ุงููุทูู ููุชุนููู ูุงูุชูููู ุนู ุจุนุฏ (ูุซู ุงูุชุณุฌููุ ุณุญุจ ุงููุซุงุฆูุ ุฃู ููุตุฉ ุงููุฑุถ ุงูุฅููุชุฑููู ุงูุญูููู).</li>
                        <li><strong>ูุณุคูููุฉ ุงูุฌูุงุช ุงูุฎุงุฑุฌูุฉ:</strong> ูุฐู ุงูููุตุงุช ููุง ุณูุงุณุงุช ุฎุตูุตูุฉ ุฎุงุตุฉ ุจูุงุ ููุง ูุชุญูู ูุณุคูููุฉ ูุญุชูุงูุง ุฃู ุทุฑููุฉ ุชุนุงูููุง ูุน ุจูุงูุงุชู. ุจูุฌุฑุฏ ูุบุงุฏุฑุฉ ูููุนูุงุ ุชุตุจุญ ูุณุคููุงู ุนู ูุฑุงุกุฉ ุณูุงุณุฉ ุงูุฎุตูุตูุฉ ูููููุน ุงูุฐู ุชุชุตูุญู.</li>
                        <li><strong>ุงูููููุฒ (Cookies):</strong> ูุฏ ุชุณุชุฎุฏู ุฎุฏูุงุช ุงูุทุฑู ุงูุซุงูุซ ุงููุถููุฉ ูู ุงูุฑูุงุจุท ุงูุฎุงุฑุฌูุฉ (ูุซู ุฃุฏูุงุช ุชุญูููุงุช ุงูููุงูุน) ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท (ุงูููููุฒ) ูุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุฃู ูุฃุบุฑุงุถ ุฅุญุตุงุฆูุฉ. ููููู ุงูุชุญูู ุจูุง ุฃู ุชุนุทูููุง ูู ุฅุนุฏุงุฏุงุช ูุชุตูุญู.</li>
                    </ul>

                    <h3>4. ุงูููุงููุฉ</h3>
                    <p>ุจุงุณุชุฎุฏุงูู ููููุนูุง ููุญุงูู ุงููุฑุถ ุงูุฅููุชุฑูููุ ูุฅูู ุชูุงูู ุนูู ูุฐู ุงูุณูุงุณุฉ ูุนูู ุงุณุชุฎุฏุงู ููุฒุฉ ุงูุชุฎุฒูู ุงููุญูู (Local Storage) ูุญูุธ ูุชุงุฆุฌู ุนูู ุฌูุงุฒู ุงูุฎุงุต ููุท.</p>
                    <p style="margin-top: 20px;">ูุฃู ุงุณุชูุณุงุฑุงุชุ ูุฑุฌู ุงูุชูุงุตู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุงููุฎุตุต ููุฅุจูุงุบ ุนู ุงููุดุงูู.</p>
                </div>
            `;
            pagesContainer.innerHTML = html;
        }
        // **********************************************


        // --- ุฏูุงู ุงููุญุงูู (Quiz Simulator) ---

        // 1. ุจูุงุก ุตูุญุฉ ุงุฎุชูุงุฑ ุงููุณุชูู (ูุชูุณุท/ุซุงููู)
        function buildQuizSimulatorPage() {
            const html = `
                <div class="sub-page" id="quiz-simulator-main">
                    <button class="back-btn" onclick="goBack()"><i class="fas fa-arrow-right"></i> ุฑุฌูุน</button>
                    <h2>ูุญุงูู ุงููุฑุถ ุงูุฅููุชุฑููู โจ</h2>
                    <p>ุงุฎุชุฑ ูุณุชูุงู ุงูุฏุฑุงุณู ูุจุฏุก ุงููุญุงูุงุฉ:</p>
                   
                    <button class="sub-page-btn" onclick="buildQuizSimulatorLevel('moyen')">
                        <i class="fas fa-school"></i> ุงููุณุชูู ุงููุชูุณุท
                    </button>
                    <button class="sub-page-btn" onclick="buildQuizSimulatorLevel('secondary')">
                        <i class="fas fa-university"></i> ุงููุณุชูู ุงูุซุงููู
                    </button>
                </div>
            `;
            pagesContainer.innerHTML = html;
        }

        // 2. ุจูุงุก ุตูุญุฉ ุงุฎุชูุงุฑ ุงูุตู (1am, 2am, 1as, etc.)
        function buildQuizSimulatorLevel(levelType) {
            currentQuizState.levelType = levelType;
            let title = levelType === 'moyen' ? 'ุงุฎุชุฑ ูุณุชูุงู (ุงููุชูุณุท)' : 'ุงุฎุชุฑ ูุณุชูุงู (ุงูุซุงููู)';
            let grades;
            let gradeMap;

            if (levelType === 'moyen') {
                grades = ['ุฃููู ูุชูุณุท', 'ุงูุซุงููุฉ ูุชูุณุท', 'ุงูุซุงูุซุฉ ูุชูุณุท', 'ุงูุฑุงุจุนุฉ ูุชูุณุท'];
                gradeMap = ['1am', '2am', '3am', '4am'];
            } else { // secondary
                grades = ['ุฃููู ุซุงููู', 'ุซุงููุฉ ุซุงููู', 'ุซุงูุซุฉ ุซุงููู'];
                gradeMap = ['1as', '2as', '3as'];
            }

            let buttonsHtml = grades.map((gradeName, index) => `
                <button class="sub-page-btn" onclick="buildQuizSimulatorMaterial('${gradeMap[index]}')">
                    <i class="fas fa-graduation-cap"></i> ${gradeName}
                </button>
            `).join('');

            const html = `
                <div class="sub-page" id="quiz-simulator-grades">
                    <button class="back-btn" onclick="goBackQuizSimulator('level_selection')"><i class="fas fa-arrow-right"></i> ุฑุฌูุน</button>
                    <h2>${title}</h2>
                    <p>ุงุฎุชุฑ ุงูุตู ุงูุฏุฑุงุณู ุงูุฐู ุชุฏุฑุณ ููู:</p>
                    ${buttonsHtml}
                </div>
            `;
            pagesContainer.innerHTML = html;
        }

        // 3. ุจูุงุก ุตูุญุฉ ุงุฎุชูุงุฑ ุงููุงุฏุฉ
        function buildQuizSimulatorMaterial(levelCode) {
            currentQuizState.levelCode = levelCode;
            const availableMaterials = quizData[currentQuizState.levelType][levelCode] ? Object.keys(quizData[currentQuizState.levelType][levelCode]) : [];

            let buttonsHtml = materials.map(material => {
                const isAvailable = availableMaterials.includes(material.id);
                const buttonClass = isAvailable ? 'sub-page-btn' : 'sub-page-btn disabled-btn';
                const action = isAvailable ? `startQuiz('${material.id}')` : `alert('ูุฐู ุงููุงุฏุฉ ุบูุฑ ูุชููุฑุฉ ุจุนุฏ ูู ุงููุญุงูู.')`;
                const availabilityNote = isAvailable ? '' : ' (ุบูุฑ ูุชููุฑุฉ ุญุงูููุง)';

                return `
                    <button class="${buttonClass}" onclick="${action}">
                        <i class="${material.icon}"></i> ${material.name} ${availabilityNote}
                    </button>
                `;
            }).join('');

            const html = `
                <div class="sub-page" id="quiz-simulator-materials">
                    <button class="back-btn" onclick="goBackQuizSimulator('grade_selection')"><i class="fas fa-arrow-right"></i> ุฑุฌูุน</button>
                    <h2>ุงุฎุชุฑ ูุงุฏุฉ ุงููุญุงูุงุฉ</h2>
                    <p>ุณูุชู ุทุฑุญ 20 ุณุคุงูุงู (ุฃู ุงููุชููุฑ) ุขููุงู ูู ุงููุงุฏุฉ ุงูุชู ุชุฎุชุงุฑูุง:</p>
                    ${buttonsHtml}
                </div>
            `;
            pagesContainer.innerHTML = html;
        }

        // 4. ุจุฏุก ุงูุงุฎุชุจุงุฑ ูุชููุฆุฉ ุงูุญุงูุฉ
        function startQuiz(materialId) {
            currentQuizState.materialId = materialId;
            currentQuizState.currentQIndex = 0;
            currentQuizState.answers = {};
            currentQuizState.score = 0;
           
            const questionsForLevel = quizData[currentQuizState.levelType] && quizData[currentQuizState.levelType][currentQuizState.levelCode];
            
            if (questionsForLevel && questionsForLevel[materialId]) {
                currentQuizState.questions = questionsForLevel[materialId];
                if (currentQuizState.questions.length < 3) { 
                    console.warn(`ุชูุจูู: ุชู ุชุญููู ${currentQuizState.questions.length} ุฃุณุฆูุฉ ููุท ููููุฐุฌ. ูุฌุจ ููุก 20 ุณุคุงูุงู ูู ููู quizData.`);
                }
                renderQuestion(currentQuizState.currentQIndex);
            } else {
                alert("ุนุฐุฑุงูุ ูุง ุชุชููุฑ ุฃุณุฆูุฉ ููุฐู ุงููุงุฏุฉ ุฃู ุงููุณุชูู ุจุนุฏ.");
                goBackQuizSimulator('material_selection');
            }
        }

        // 5. ุนุฑุถ ุงูุณุคุงู (ุงูุชููู ุจูู ุงูุฃุณุฆูุฉ)
        function renderQuestion(index) {
            if (index >= currentQuizState.questions.length) {
                calculateAndShowResults();
                return;
            }
           
            currentQuizState.currentQIndex = index;
            const q = currentQuizState.questions[index];
            const materialName = materials.find(m => m.id === currentQuizState.materialId).name;
            const currentAnswer = currentQuizState.answers[q.id];
            const totalQuestions = 20; // 20 ููุทุฉ ูู ุงููุฌููุน ุงูููู

            let optionsHtml = q.options.map(option => `
                <button class="sub-page-btn quiz-option ${currentAnswer === option ? 'selected-option' : ''}"
                        data-option="${option}"
                        onclick="selectAnswer(${q.id}, '${option.replace(/'/g, "\\'")}', this)">
                    ${option}
                </button>
            `).join('');
           
            const html = `
                <div class="sub-page" id="quiz-page">
                    <button class="back-btn" onclick="goBackQuizSimulator('material_selection')"><i class="fas fa-arrow-right"></i> ุฑุฌูุน ูููุงุฆูุฉ</button>
                    <h2>${materialName} (${index + 1} ูู ${currentQuizState.questions.length})</h2>
                    <div class="question-box" style="padding: 15px; border: 1px solid #ccc; border-radius: 8px; margin-bottom: 20px; background-color: #f9f9f9;">
                        <p style="font-size: 1.1rem; font-weight: bold;">${index + 1}. ${q.q}</p>
                    </div>
                   
                    <div class="options-container">
                        ${optionsHtml}
                    </div>
                   
                    <div style="display: flex; justify-content: space-between; margin-top: 30px;">
                        <button class="back-btn" onclick="goToPrevQuestion()" style="background-color: #6c757d; width: 48%; ${index === 0 ? 'display: none;' : ''}"><i class="fas fa-arrow-left"></i> ุงูุณุงุจู</button>
                        ${index < currentQuizState.questions.length - 1 ? `
                            <button class="sub-page-btn" onclick="goToNextQuestion()" style="background-color: #007bff; color: white; border: none; width: 48%; ${index === 0 ? 'margin-right: auto; margin-left: auto; width: 100%;' : ''}">
                                ุงูุชุงูู <i class="fas fa-arrow-left" style="float: right;"></i>
                            </button>
                        ` : `
                            <button class="sub-page-btn" onclick="calculateAndShowResults()" style="background-color: #28a745; color: white; border: none; width: 48%;">
                                ุฅููุงุก ู ุชุณููู <i class="fas fa-check" style="float: right;"></i>
                            </button>
                        `}
                    </div>
                </div>
            `;
            pagesContainer.innerHTML = html;
            
            // ุฅุนุงุฏุฉ ุชุทุจูู ุชูุณูู ุงูุชุญุฏูุฏ
            document.querySelectorAll('.quiz-option').forEach(btn => {
                if (btn.classList.contains('selected-option')) {
                     btn.style.backgroundColor = '#007bff';
                     btn.style.color = 'white';
                }
            });
        }

        // 6. ุฏูุงู ุงูุชููู ูุงุฎุชูุงุฑ ุงูุฅุฌุงุจุฉ
        function selectAnswer(questionId, option, element) {
            currentQuizState.answers[questionId] = option;
           
            // ุฅุฒุงูุฉ ุงูุชุญุฏูุฏ ูู ุฌููุน ุงูุฃุฒุฑุงุฑ ุซู ุฅุถุงูุฉ ุงูุชุญุฏูุฏ ุนูู ุงูุฒุฑ ุงููุถุบูุท
            document.querySelectorAll('.quiz-option').forEach(btn => {
                btn.classList.remove('selected-option');
                btn.style.backgroundColor = '#e9ecef';
                btn.style.color = '#333';
            });
            element.classList.add('selected-option');
            element.style.backgroundColor = '#007bff';
            element.style.color = 'white';
        }

        function goToPrevQuestion() {
            if (currentQuizState.currentQIndex > 0) {
                renderQuestion(currentQuizState.currentQIndex - 1);
            }
        }

        function goToNextQuestion() {
            if (currentQuizState.currentQIndex < currentQuizState.questions.length) {
                renderQuestion(currentQuizState.currentQIndex + 1);
            }
        }

        // 7. ุฏุงูุฉ ุญุณุงุจ ูุนุฑุถ ุงููุชุงุฆุฌ
        function calculateAndShowResults() {
            let score = 0;
            const maxScore = 20; 

            currentQuizState.questions.forEach(q => {
                const selected = currentQuizState.answers[q.id];
                if (selected && selected === q.a) {
                    score++; 
                }
            });

            const actualQuestionsCount = currentQuizState.questions.length;
            let finalScore = (score / actualQuestionsCount) * maxScore;
            finalScore = Math.round(finalScore); 

            currentQuizState.score = finalScore;
           
            const materialName = materials.find(m => m.id === currentQuizState.materialId).name;
            const passMessage = finalScore >= 10 ? 'ุชูุงูููุง! ููุฏ ุญููุช ูุชูุฌุฉ ุฌูุฏุฉ.' : 'ุชุญุชุงุฌ ุฅูู ูุฑุงุฌุนุฉ ุฅุถุงููุฉ.';

            // ุชุฎุฒูู ุงููุชูุฌุฉ
            let results = JSON.parse(localStorage.getItem('quizResults')) || {};
            if (!results[currentQuizState.levelCode]) {
                results[currentQuizState.levelCode] = {};
            }
            results[currentQuizState.levelCode][currentQuizState.materialId] = finalScore;
            localStorage.setItem('quizResults', JSON.stringify(results));
           
            const html = `
                <div class="sub-page" id="quiz-results">
                    <button class="back-btn" onclick="goBackQuizSimulator('material_selection')"><i class="fas fa-arrow-right"></i> ุงูุฑุฌูุน ููุงุฆูุฉ ุงูููุงุฏ</button>
                    <h2>ูุชูุฌุฉ ุงููุญุงูู ูู ${materialName} ๐</h2>
                    <div style="text-align: center; padding: 20px; border: 2px solid ${finalScore >= 10 ? '#28a745' : '#dc3545'}; border-radius: 10px; background-color: ${finalScore >= 10 ? '#d4edda' : '#f8d7da'};">
                        <p style="font-size: 1.5rem; font-weight: bold; color: ${finalScore >= 10 ? '#155724' : '#721c24'};">
                            ููุฏ ุญุตูุช ุนูู: **${finalScore} ูู 20**
                        </p>
                        <p style="font-size: 1.1rem; color: #333;">${passMessage}</p>
                    </div>
                    <h3 style="margin-top: 30px; color: #007bff;">ูุชุงุฆุฌ ููุงุฏู ุงูุฃุฎุฑู (ูู ูุฐุง ุงููุณุชูู):</h3>
                    ${renderAllResults(currentQuizState.levelCode)}
                </div>
            `;
            pagesContainer.innerHTML = html;
        }

        // ุฏุงูุฉ ุนุฑุถ ูุชุงุฆุฌ ุฌููุน ุงูููุงุฏ
        function renderAllResults(levelCode) {
            const storedResults = JSON.parse(localStorage.getItem('quizResults')) || {};
            const levelResults = storedResults[levelCode] || {};
           
            let resultsHtml = '';
            materials.forEach(material => {
                const score = levelResults[material.id] !== undefined ? levelResults[material.id] : 'ูู ุชุชู ุงููุญุงูุงุฉ';
                const scoreDisplay = typeof score === 'number' ? `${score} ูู 20` : score;
                const scoreStyle = typeof score === 'number' ? (score >= 10 ? 'color: #28a745; font-weight: bold;' : 'color: #dc3545; font-weight: bold;') : 'color: #6c757d;';
               
                resultsHtml += `
                    <div style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px dashed #ccc;">
                        <span>${material.name}</span>
                        <span style="${scoreStyle}">${scoreDisplay}</span>
                    </div>
                `;
            });
            return resultsHtml;
        }
        
        // --- ุฏูุงู ูุดุงุฑูุฉ ูุชุญููู ููููุฉ ---
        function shareApp() {
            alert('ูุธููุฉ ูุดุงุฑูุฉ ุงููููุน.');
        }

        function showLoading() {
            loadingOverlay.classList.remove('hidden');
        }

        function hideLoading() {
            loadingOverlay.classList.add('hidden');
        }

    </script>
</body>
</html>





