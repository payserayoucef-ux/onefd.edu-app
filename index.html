<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>تصريح شرفي - تنسيق رسمي</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        body { font-family: 'Arial', sans-serif; background: #eee; }

        /* الورقة الرسمية */
        #paper {
            width: 210mm;
            height: 297mm;
            /* الهوامش 2 سم من كل الجوانب */
            padding: 20mm; 
            background: white;
            margin: auto;
            display: none;
            position: relative;
            box-sizing: border-box;
        }

        .title { text-align: center; font-size: 26px; font-weight: bold; text-decoration: underline; margin-bottom: 30px; }
        .intro { text-align: right; font-weight: bold; font-size: 18px; margin-bottom: 20px; }
        
        /* ضبط المسافات للأسطر */
        .line { 
            display: flex; 
            justify-content: space-between; 
            align-items: baseline; 
            width: 100%; 
            margin-bottom: 20px; 
            font-size: 17px;
        }

        .label { font-weight: bold; }
        .dots { border-bottom: 1px dotted #000; flex-grow: 1; margin: 0 5px; text-align: center; height: 18px; }

        .reason-section { margin-top: 30px; font-size: 17px; }
        .reason-content { display: block; width: 100%; border-bottom: 1px dotted #000; margin-top: 10px; height: 25px; }

        /* التواقيع في الأسفل */
        .footer {
            position: absolute;
            bottom: 20mm; /* 2 سم من أسفل الورقة */
            left: 20mm;
            right: 20mm;
            display: flex;
            justify-content: space-between;
            font-size: 18px;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div style="max-width: 600px; margin: 20px auto; background: white; padding: 20px; border-radius: 8px;">
    <input type="text" id="inName" placeholder="الاسم واللقب">
    <input type="text" id="inBirthDate" placeholder="تاريخ الميلاد">
    <input type="text" id="inBirthPlace" placeholder="مكان الميلاد">
    <input type="text" id="inIdNum" placeholder="رقم بطاقة التعريف">
    <input type="text" id="inIdDate" placeholder="تاريخ صدور البطاقة">
    <input type="text" id="inMun" placeholder="البلدية">
    <input type="text" id="inProv" placeholder="الولاية">
    <textarea id="inReason" placeholder="سبب التصريح"></textarea>
    <button onclick="generate()">تحميل PDF (هوامش 2سم)</button>
</div>

<div id="paper">
    <div class="title">تصـريح شـرفــي</div>
    <div class="intro">أنا الممضي أسفله،</div>

    <div class="line">
        <span class="label">السيد(ة):</span><span class="dots" id="outName"></span>
        <span class="label">المولود(ة) بتاريخ:</span><span class="dots" id="outBirthDate"></span>
        <span class="label">بـ:</span><span class="dots" id="outBirthPlace"></span>
    </div>

    <div class="line">
        <span class="label">و الحامل لبطاقة التعريف الوطنية رقم:</span><span class="dots" id="outIdNum"></span>
        <span class="label">الصادرة بتاريخ:</span><span class="dots" id="outIdDate"></span>
    </div>

    <div class="line" style="width: 70%;">
        <span class="label">عن بلدية:</span><span class="dots" id="outMun"></span>
        <span class="label">ولاية:</span><span class="dots" id="outProv"></span>
    </div>

    <div class="reason-section">
        <span class="label">أصرح بمقتضى شرفي بأنني:</span>
        <span class="reason-content" id="outReason"></span>
    </div>

    <div class="footer">
        <span>مصادقة البلدية</span>
        <span>إمضاء المعني</span>
    </div>
</div>

<script>
    function generate() {
        document.getElementById('outName').innerText = document.getElementById('inName').value;
        document.getElementById('outBirthDate').innerText = document.getElementById('inBirthDate').value;
        document.getElementById('outBirthPlace').innerText = document.getElementById('inBirthPlace').value;
        document.getElementById('outIdNum').innerText = document.getElementById('inIdNum').value;
        document.getElementById('outIdDate').innerText = document.getElementById('inIdDate').value;
        document.getElementById('outMun').innerText = document.getElementById('inMun').value;
        document.getElementById('outProv').innerText = document.getElementById('inProv').value;
        document.getElementById('outReason').innerText = document.getElementById('inReason').value;

        const element = document.getElementById('paper');
        element.style.display = 'block';
        html2pdf().from(element).set({
            margin: 0,
            filename: 'تصريح_شرفي_رسمي.pdf',
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        }).save().then(() => element.style.display = 'none');
    }
</script>
</body>
</html>
