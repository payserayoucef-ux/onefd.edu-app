<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø¨Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø© - Ù…Ø­Ø§ÙƒÙŠ Ø§Ù„ÙØ±Ø¶ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* ... (Ø¬Ù…ÙŠØ¹ Ø£ÙƒÙˆØ§Ø¯ CSS Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙƒÙ…Ø§ Ù‡ÙŠ) ... */

        /* ØªØµÙ…ÙŠÙ… Ø®Ø§Øµ Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø­Ø§ÙƒÙŠ */
        .exam-question-container {
            border: 1px solid #ddd;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .exam-question-container h3 {
            color: #007bff;
            font-size: 1.2rem;
            margin-bottom: 15px;
            border-bottom: 2px dashed #eee;
            padding-bottom: 10px;
        }

        .option-label {
            display: block;
            background-color: #f7f7f7;
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s, border 0.2s;
            border: 1px solid #e0e0e0;
        }

        .option-label:hover {
            background-color: #e9ecef;
        }

        .option-label input[type="radio"] {
            margin-left: 10px;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .navigation-buttons button {
            padding: 10px 20px;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            border: none;
            transition: background-color 0.3s;
        }
        
        .nav-next {
            background-color: #28a745; 
            color: white;
        }
        
        .nav-prev {
            background-color: #6c757d;
            color: white;
        }

        .nav-submit {
            background-color: #dc3545;
            color: white;
            flex-grow: 1; /* Ø¬Ø¹Ù„ Ø²Ø± Ø§Ù„ØªØ³Ù„ÙŠÙ… ÙŠÙ…Ù„Ø£ Ø§Ù„Ù…Ø³Ø§Ø­Ø© */
            margin: 0 50px;
        }
        
        /* ØªØµÙ…ÙŠÙ… ØµÙØ­Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            text-align: center;
        }
        .results-table th, .results-table td {
            border: 1px solid #ddd;
            padding: 12px;
        }
        .results-table th {
            background-color: #007bff;
            color: white;
        }
        .results-table .score-passed {
            background-color: #d4edda;
            color: #155724;
            font-weight: bold;
        }
        .results-table .score-failed {
            background-color: #f8d7da;
            color: #721c24;
            font-weight: bold;
        }
        
        /* ... (Ø¨Ù‚ÙŠØ© Ø£ÙƒÙˆØ§Ø¯ CSS Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ù‡Ù†Ø§) ... */
        header {
            background-color: #007bff; /* Ø£Ø²Ø±Ù‚ Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„Ø¯ÙŠÙˆØ§Ù† */
            color: white;
            padding: 15px 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        /* ... (ØªÙƒÙ…Ù„Ø© Ø£ÙƒÙˆØ§Ø¯ CSS) ... */
        .sub-page-btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            background-color: #e9ecef;
            border: 1px solid #ced4da;
            border-radius: 5px;
            text-align: right;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
            text-decoration: none; 
            color: #333;
            font-weight: bold;
        }

        .sub-page-btn:hover {
            background-color: #007bff;
            color: white;
        }
        
        /* ... (Ù†Ù‡Ø§ÙŠØ© Ø£ÙƒÙˆØ§Ø¯ CSS) ... */
    </style>
</head>
<body>

    <div id="sidebar">
        <button class="close-btn" onclick="toggleSidebar()"><i class="fas fa-times"></i></button>
        <div class="sidebar-header">
            <h3>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©</h3>
        </div>
        
        <a href="#" onclick="showPage('about-page'); return false;"><i class="fas fa-lightbulb"></i> Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø¨Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø©ØŸ</a>
        <a href="#" onclick="showPage('check-level-page'); return false;"><i class="fas fa-check-circle"></i> Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚Ø¨ÙˆÙ„Ùƒ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£Ø¹Ù„Ù‰</a>
        <a href="#" onclick="showPage('exam-simulator-page'); return false;"><i class="fas fa-book-open"></i> Ù…Ø­Ø§ÙƒÙŠ Ø§Ù„ÙØ±Ø¶ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</a>
        <a href="#" onclick="showPage('centers-page'); return false;"><i class="fas fa-phone-alt"></i> Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù…Ø±Ø§ÙƒØ² Ø§Ù„ÙˆÙ„Ø§Ø¦ÙŠØ©</a>
        <a href="#" onclick="showPage('donation-page'); return false;"><i class="fas fa-heart"></i> Ø§Ù„ØªØ¨Ø±Ø¹ Ù„Ø¯Ø¹Ù… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</a>
        <a href="#" onclick="showPage('about-app-page'); return false;"><i class="fas fa-info-circle"></i> Ø­ÙˆÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</a>
        <a href="#" onclick="shareApp()"><i class="fas fa-share-alt"></i> Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</a>
    </div>
    
    <header>
        <button class="menu-btn" onclick="toggleSidebar()">
            <i class="fas fa-bars"></i>
        </button>
        <h1 class="header-title">Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø¨Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø© - ÙŠÙˆØ³Ù</h1>
    </header>

    <main id="main-content">
        <div class="welcome-section">
            <h1>Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ Ø£ÙŠÙ‡Ø§ Ø§Ù„Ù…ØªØ¹Ù„Ù… ğŸ‘‹</h1>
            <h2>ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ **Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø¨Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø© - ÙŠÙˆØ³Ù**</h2>
            <p>Ø¨ÙˆØ§Ø¨ØªÙƒ Ø§Ù„Ø³Ø±ÙŠØ¹Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¯ÙŠÙˆØ§Ù† Ø§Ù„ÙˆØ·Ù†ÙŠ Ù„Ù„ØªØ¹Ù„ÙŠÙ… ÙˆØ§Ù„ØªÙƒÙˆÙŠÙ† Ø¹Ù† Ø¨Ø¹Ø¯</p>
        </div>

        <div class="main-buttons-container">
            <button class="main-btn" onclick="showPage('registration-page')">
                <i class="fas fa-user-plus"></i> Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø©
            </button>
            <button class="main-btn" onclick="showPage('documents-page')">
                <i class="fas fa-file-alt"></i> Ø³Ø­Ø¨ Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚
            </button>
            <button class="main-btn" onclick="showPage('platforms-page')">
                <i class="fas fa-book-reader"></i> Ø§Ù„Ø£Ø±Ø¶ÙŠØ§Øª Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©
            </button>
            <button class="main-btn" onclick="showPage('e-homework-page')">
                <i class="fas fa-laptop-code"></i> Ø§Ù„ÙØ±Ø¶ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
            </button>
        </div>

        <hr>

        <div class="social-media-container">
            <p>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§: </p>
            <a href="https://t.me/youcef_info_2" target="_blank" class="social-icon telegram"><i class="fab fa-telegram-plane"></i></a>
            <a href="https://wa.me/213665074666" target="_blank" class="social-icon whatsapp"><i class="fab fa-whatsapp"></i></a>
            <a href="https://www.instagram.com/youcef.info2" target="_blank" class="social-icon instagram"><i class="fab fa-instagram"></i></a>
            <a href="https://www.facebook.com/share/g/1BfUsNqXFf/" target="_blank" class="social-icon facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="https://youtube.com/channel/UCWorEGsMcnwrSPYEFXhnfkw?si=q98lYPriNUD0ax0O" target="_blank" class="social-icon youtube"><i class="fab fa-youtube"></i></a>
        </div>
    </main>
    
    <div id="pages-container">
        </div>
    
    <div id="loading-overlay" class="hidden">
        <div class="spinner"></div>
        <p>Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±...</p>
    </div>

    <script>
        const pagesContainer = document.getElementById('pages-container');
        const loadingOverlay = document.getElementById('loading-overlay');
        let userAnswers = {}; // Ù„ØªØ®Ø²ÙŠÙ† Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        let currentQuestionIndex = 0; // Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ
        let currentExamData = null; // Ù„ØªØ®Ø²ÙŠÙ† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ù…ØªØ­Ø§Ù† Ø§Ù„Ù†Ø´Ø·

        // ... (Ø¨Ù‚ÙŠØ© Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© Ùˆ showPage Ùˆ openExternalLink Ø¥Ù„Ø®) ...
        
        // Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© ÙˆØµÙØ­Ø§Øª Ø§Ù„ÙˆÙŠØ¨ (Ø§Ù„Ø¯ÙˆØ§Ù… Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©)
        function toggleSidebar() {
            document.getElementById("sidebar").classList.toggle("open");
        }

        function showPage(pageId) {
            toggleSidebar();
            
            document.getElementById('main-content').style.display = 'none';
            pagesContainer.style.display = 'block';
            
            pagesContainer.innerHTML = '';
            
            // Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ§Ù„ buildPage() Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            if (pageId === 'registration-page') {
                buildRegistrationPage();
            } else if (pageId === 'documents-page') {
                buildDocumentsPage();
            } else if (pageId === 'platforms-page') {
                buildPlatformsPage();
            } else if (pageId === 'e-homework-page') {
                buildEHomeworkPage();
            } else if (pageId === 'about-page') {
                buildAboutPage();
            } else if (pageId === 'check-level-page') {
                buildCheckLevelPage();
            } else if (pageId === 'centers-page') {
                buildCentersPage();
            } else if (pageId === 'donation-page') {
                buildDonationPage();
            } else if (pageId === 'about-app-page') {
                buildAboutAppPage();
            } else if (pageId === 'exam-simulator-page') {
                buildExamSimulatorLevelSelect(); // Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            }
        }

        function goBack() {
            pagesContainer.style.display = 'none';
            document.getElementById('main-content').style.display = 'block';
            pagesContainer.innerHTML = '';
        }
        
        function openExternalLink(url, title = "Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...") {
            // ... (Ø¯Ø§Ù„Ø© openExternalLink ÙƒÙ…Ø§ ÙƒØ§Ù†Øª) ...
            showLoading();
            setTimeout(() => {
                window.open(url, '_blank');
                hideLoading();
            }, 500); 
        }

        function shareApp() {
            // ... (Ø¯Ø§Ù„Ø© shareApp ÙƒÙ…Ø§ ÙƒØ§Ù†Øª) ...
            if (navigator.share) {
                navigator.share({
                    title: 'ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø¨Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø© - ÙŠÙˆØ³Ù',
                    text: 'Ø£ÙØ¶Ù„ ØªØ·Ø¨ÙŠÙ‚ Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¯ÙŠÙˆØ§Ù† Ø§Ù„ÙˆØ·Ù†ÙŠ Ù„Ù„ØªØ¹Ù„ÙŠÙ… ÙˆØ§Ù„ØªÙƒÙˆÙŠÙ† Ø¹Ù† Ø¨Ø¹Ø¯!',
                    url: window.location.href 
                })
                .then(() => console.log('ØªÙ…Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¨Ù†Ø¬Ø§Ø­'))
                .catch((error) => alert('ÙØ´Ù„ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©: ' + error.message));
            } else {
                alert('ÙŠØ±Ø¬Ù‰ Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙ‡ ÙŠØ¯ÙˆÙŠØ§Ù‹: ' + window.location.href);
            }
        }
        
        function showLoading() {
            // ... (Ø¯Ø§Ù„Ø© showLoading ÙƒÙ…Ø§ ÙƒØ§Ù†Øª) ...
            document.getElementById('loading-overlay').classList.remove('hidden');
        }

        function hideLoading() {
            // ... (Ø¯Ø§Ù„Ø© hideLoading ÙƒÙ…Ø§ ÙƒØ§Ù†Øª) ...
            document.getElementById('loading-overlay').classList.add('hidden');
        }

        function createLinkButton(text, url) {
            // ... (Ø¯Ø§Ù„Ø© createLinkButton ÙƒÙ…Ø§ ÙƒØ§Ù†Øª) ...
            return `<button class="sub-page-btn" onclick="openExternalLink('${url}', '${text}')">
                ${text} <i class="fas fa-external-link-alt" style="float: left;"></i>
            </button>`;
        }
        
        // --- Ø¯ÙˆØ§Ù„ Ø¨Ù†Ø§Ø¡ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„ÙØ±Ø¹ÙŠØ© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© (ØªÙ… Ø­Ø°ÙÙ‡Ø§ Ù„Ù„Ø§Ø®ØªØµØ§Ø±ØŒ Ù„ÙƒÙ† ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©) ---
        // (ÙŠØ¬Ø¨ Ø£Ù† ØªØ¶Ø¹ Ù‡Ù†Ø§ Ø¯ÙˆØ§Ù„: buildRegistrationPageØŒ buildDocumentsPageØŒ buildPlatformsPageØŒ 
        // buildEHomeworkPageØŒ buildAboutPageØŒ buildCheckLevelPageØŒ buildCentersPageØŒ 
        // buildDonationPageØŒ buildAboutAppPageØŒ checkLevelResultØŒ displayCenterInfoØŒ copyToClipboard)
        
        // --- Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù€ Ù…Ø­Ø§ÙƒÙŠ Ø§Ù„ÙØ±Ø¶ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ---

        // 1. Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        const EXAM_DATABASE = {
            'Ø£ÙˆÙ„Ù‰ Ù…ØªÙˆØ³Ø·': {
                'Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©': [
                    { q: 'Ù…Ø§ Ù‡Ùˆ Ø¬Ù…Ø¹ ÙƒÙ„Ù…Ø© "Ù‚Ù„Ù…"ØŸ', options: ['Ù‚Ù„Ù…ÙˆÙ†', 'Ø£Ù‚Ù„Ø§Ù…', 'Ù‚ÙˆØ§Ù„ÙŠÙ…', 'Ø£Ù‚Ø§Ù„Ù…Ø©'], correct: 'Ø£Ù‚Ù„Ø§Ù…' },
                    { q: 'Ù…Ø§ Ù‡ÙŠ ÙˆØ¸ÙŠÙÙŠØ© Ø§Ù„ÙØ§Ø¹Ù„ ÙÙŠ Ø§Ù„Ø¬Ù…Ù„Ø©ØŸ', options: ['ÙŠØµÙ Ø§Ù„Ø§Ø³Ù…', 'ÙŠØ¨ÙŠÙ† Ø²Ù…Ù† Ø§Ù„ÙØ¹Ù„', 'ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ù…Ù† Ù‚Ø§Ù… Ø¨Ø§Ù„ÙØ¹Ù„', 'ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡'], correct: 'ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ù…Ù† Ù‚Ø§Ù… Ø¨Ø§Ù„ÙØ¹Ù„' },
                    { q: 'Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø´Ø§Ø¹Ø± Ø§Ù„Ø°ÙŠ Ù„Ù‚Ø¨ Ø¨Ø£Ù…ÙŠØ± Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡ØŸ', options: ['Ø§Ù„Ù…ØªÙ†Ø¨ÙŠ', 'Ø£Ø­Ù…Ø¯ Ø´ÙˆÙ‚ÙŠ', 'Ø­Ø§ÙØ¸ Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…', 'Ø£Ø¨Ùˆ Ø§Ù„Ø¹Ù„Ø§Ø¡ Ø§Ù„Ù…Ø¹Ø±ÙŠ'], correct: 'Ø£Ø­Ù…Ø¯ Ø´ÙˆÙ‚ÙŠ' },
                    { q: 'Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„ØªÙŠ ØªÙˆØ¶Ø¹ Ø¹Ù„Ù‰ Ø¢Ø®Ø± Ø§Ø³Ù… Ù…Ø¬Ø±ÙˆØ±ØŸ', options: ['Ø§Ù„Ø¶Ù…Ø©', 'Ø§Ù„ÙØªØ­Ø©', 'Ø§Ù„ÙƒØ³Ø±Ø©', 'Ø§Ù„Ø³ÙƒÙˆÙ†'], correct: 'Ø§Ù„ÙƒØ³Ø±Ø©' },
                    { q: 'ÙƒÙ… Ø¹Ø¯Ø¯ Ø­Ø±ÙˆÙ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŸ', options: ['29 Ø­Ø±ÙØ§Ù‹', '28 Ø­Ø±ÙØ§Ù‹', '30 Ø­Ø±ÙØ§Ù‹', '27 Ø­Ø±ÙØ§Ù‹'], correct: '28 Ø­Ø±ÙØ§Ù‹' },
                    // (Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© 15 Ø³Ø¤Ø§Ù„Ø§Ù‹ Ø¢Ø®Ø± Ù„ÙƒÙ„ Ù…Ø§Ø¯Ø© Ù„Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ù€ 20 Ø³Ø¤Ø§Ù„Ø§Ù‹)
                ],
                'Ø§Ù„Ù„ØºØ© Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©': [
                    { q: 'Ù…Ø§Ø°Ø§ ØªØ¹Ù†ÙŠ ÙƒÙ„Ù…Ø© "Bonjour"ØŸ', options: ['Ù…Ø¹ Ø§Ù„Ø³Ù„Ø§Ù…Ø©', 'ÙƒÙŠÙ Ø­Ø§Ù„Ùƒ', 'ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±', 'Ù…Ø§ Ø§Ø³Ù…Ùƒ'], correct: 'ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±' },
                    { q: 'Ù…Ø§ Ù‡Ùˆ ØªØµØ±ÙŠÙ Ø§Ù„ÙØ¹Ù„ "Ãªtre" Ù…Ø¹ Ø§Ù„Ø¶Ù…ÙŠØ± "Je"ØŸ', options: ['es', 'suis', 'est', 'sommes'], correct: 'suis' },
                    // ... (ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© 18 Ø³Ø¤Ø§Ù„Ø§Ù‹ Ø¢Ø®Ø±)
                ],
                'Ø§Ù„Ù„ØºØ© Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠØ©': [
                    { q: 'Ù…Ø§Ø°Ø§ ØªØ¹Ù†ÙŠ ÙƒÙ„Ù…Ø© "Apple"ØŸ', options: ['Ù…ÙˆØ²', 'Ø¨Ø±ØªÙ‚Ø§Ù„', 'ØªÙØ§Ø­', 'Ø¹Ù†Ø¨'], correct: 'ØªÙØ§Ø­' },
                    { q: 'Ù…Ø§ Ù‡Ùˆ ØªØµØ±ÙŠÙ Ø§Ù„ÙØ¹Ù„ "to be" Ù…Ø¹ Ø§Ù„Ø¶Ù…ÙŠØ± "I"ØŸ', options: ['is', 'are', 'am', 'was'], correct: 'am' },
                    // ... (ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© 18 Ø³Ø¤Ø§Ù„Ø§Ù‹ Ø¢Ø®Ø±)
                ],
                'ØªØ§Ø±ÙŠØ® ÙˆØ¬ØºØ±Ø§ÙÙŠØ§': [
                    { q: 'Ù…ØªÙ‰ Ø³Ù‚Ø·Øª Ø§Ù„Ø®Ù„Ø§ÙØ© Ø§Ù„Ø¹Ø¨Ø§Ø³ÙŠØ©ØŸ', options: ['1258 Ù…', '1453 Ù…', '750 Ù…', '632 Ù…'], correct: '1258 Ù…' },
                    // ... (ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© 19 Ø³Ø¤Ø§Ù„Ø§Ù‹ Ø¢Ø®Ø±)
                ],
                'Ø¹Ù„ÙˆÙ… ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©': [
                    { q: 'Ù…Ø§ Ù‡ÙŠ ÙˆØ­Ø¯Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØŸ', options: ['Ø§Ù„ÙÙˆÙ„Øª', 'Ø§Ù„Ø£ÙˆÙ…', 'Ø§Ù„Ø£Ù…Ø¨ÙŠØ±', 'Ø§Ù„ÙˆØ§Øª'], correct: 'Ø§Ù„Ø£Ù…Ø¨ÙŠØ±' },
                    // ... (ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© 19 Ø³Ø¤Ø§Ù„Ø§Ù‹ Ø¢Ø®Ø±)
                ],
                'Ø§Ù„ØªØ±Ø¨ÙŠØ© Ø§Ù„Ø§Ø³Ù„Ø§Ù…ÙŠØ©': [
                    { q: 'ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ', options: ['Ø£Ø±Ø¨Ø¹Ø©', 'Ø®Ù…Ø³Ø©', 'Ø³ØªØ©', 'Ø³Ø¨Ø¹Ø©'], correct: 'Ø®Ù…Ø³Ø©' },
                    // ... (ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© 19 Ø³Ø¤Ø§Ù„Ø§Ù‹ Ø¢Ø®Ø±)
                ],
            },
            // 'Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ù…ØªÙˆØ³Ø·': { /* ... Ø£Ø³Ø¦Ù„Ø© Ø«Ø§Ù†ÙŠØ© Ù…ØªÙˆØ³Ø· ... */ }
        };

        // 2. Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³ØªÙˆÙ‰
        function buildExamSimulatorLevelSelect() {
            const levels = Object.keys(EXAM_DATABASE);
            let buttonsHtml = levels.map(level => `
                <button class="sub-page-btn" onclick="buildExamSimulatorSubjectSelect('${level}')">
                    <i class="fas fa-graduation-cap"></i> ${level}
                </button>
            `).join('');

            const html = `
                <div class="sub-page">
                    <button class="back-btn" onclick="goBack()"><i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹</button>
                    <h2>Ù…Ø­Ø§ÙƒÙŠ Ø§Ù„ÙØ±Ø¶ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ğŸ§ </h2>
                    <p>Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø³ØªÙˆØ§Ùƒ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©:</p>
                    <div id="exam-levels-buttons">
                        ${buttonsHtml}
                    </div>
                </div>
            `;
            pagesContainer.innerHTML = html;
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
            userAnswers = {};
            currentQuestionIndex = 0;
            currentExamData = null;
            // ÙŠØ¬Ø¨ ØªØ­Ø¯ÙŠØ« Ù‡Ø°Ø§ Ù„ÙŠØ¹ÙƒØ³ Ø­Ø§Ù„Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø®Ø²Ù†Ø©
            window.storedResults = window.storedResults || {}; 
        }

        // 3. Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø§Ø¯Ø©
        function buildExamSimulatorSubjectSelect(level) {
            const subjects = Object.keys(EXAM_DATABASE[level]);
            const results = window.storedResults[level] || {};

            let buttonsHtml = subjects.map(subject => {
                const score = results[subject] !== undefined ? results[subject] : '-';
                const scoreColor = score >= 10 ? 'score-passed' : 'score-failed';
                const scoreDisplay = score !== '-' ? `<span class="${scoreColor}" style="float: left; padding: 5px; border-radius: 5px;">Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${score} / 20</span>` : '';
                
                return `
                    <button class="sub-page-btn" onclick="startExam('${level}', '${subject}')">
                        ${subject} ${scoreDisplay}
                    </button>
                `;
            }).join('');

            const html = `
                <div class="sub-page">
                    <button class="back-btn" onclick="buildExamSimulatorLevelSelect()"><i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹</button>
                    <h2>Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø§Ø¯Ø©: ${level}</h2>
                    <p>Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¯Ø© Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±. (Ø§Ù„Ù†ØªÙŠØ¬Ø© ØªØ¸Ù‡Ø± Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ù…Ø§Ø¯Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡):</p>
                    <div id="exam-subjects-buttons">
                        ${buttonsHtml}
                    </div>
                </div>
            `;
            pagesContainer.innerHTML = html;
        }

        // 4. Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        function startExam(level, subject) {
            currentExamData = {
                level: level,
                subject: subject,
                questions: EXAM_DATABASE[level][subject]
            };
            userAnswers = {}; // ØªØµÙÙŠØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ù„Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø¬Ø¯ÙŠØ¯
            currentQuestionIndex = 0;
            displayQuestion();
        }

        // 5. Ø¹Ø±Ø¶ Ø³Ø¤Ø§Ù„ ÙˆØ§Ø­Ø¯ ÙˆØ§Ù„ØªÙ†Ù‚Ù„ (Ø§Ù„Ø³Ø§Ø¨Ù‚/Ø§Ù„ØªØ§Ù„ÙŠ)
        function displayQuestion() {
            if (!currentExamData) return;
            const qData = currentExamData.questions[currentQuestionIndex];
            const totalQuestions = currentExamData.questions.length;
            const questionId = `q${currentQuestionIndex}`;
            
            let optionsHtml = qData.options.map((option, index) => `
                <label class="option-label">
                    <input type="radio" name="${questionId}" value="${option}" 
                           ${userAnswers[questionId] === option ? 'checked' : ''}
                           onchange="saveAnswer('${questionId}', this.value)">
                    ${option}
                </label>
            `).join('');

            const html = `
                <div class="sub-page">
                    <button class="back-btn" onclick="buildExamSimulatorSubjectSelect('${currentExamData.level}')">
                        <i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹ Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ§Ø¯
                    </button>
                    <h2>${currentExamData.subject} - Ø³Ø¤Ø§Ù„ ${currentQuestionIndex + 1} Ù…Ù† ${totalQuestions}</h2>
                    
                    <div class="exam-question-container">
                        <h3>${qData.q}</h3>
                        <form id="question-form">${optionsHtml}</form>
                    </div>

                    <div class="navigation-buttons">
                        <button class="nav-prev" onclick="changeQuestion(-1)" ${currentQuestionIndex === 0 ? 'disabled' : ''}>
                            <i class="fas fa-arrow-right"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚ 
                        </button>
                        ${currentQuestionIndex === totalQuestions - 1 
                            ? `<button class="nav-submit" onclick="submitExam()">ØªØ³Ù„ÙŠÙ… Ø§Ù„ÙƒÙ„ ÙˆØ£Ù†Ù‡ÙŠ <i class="fas fa-check-circle"></i></button>`
                            : `<button class="nav-next" onclick="changeQuestion(1)">Ø§Ù„ØªØ§Ù„ÙŠ <i class="fas fa-arrow-left"></i></button>`
                        }
                    </div>
                </div>
            `;
            pagesContainer.innerHTML = html;
        }

        function saveAnswer(questionId, answer) {
            userAnswers[questionId] = answer;
        }

        function changeQuestion(direction) {
            // ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„
            const qId = `q${currentQuestionIndex}`;
            const selected = document.querySelector(`input[name="${qId}"]:checked`);
            if (selected) {
                 userAnswers[qId] = selected.value;
            } else if (!userAnswers[qId]) {
                 // ÙŠÙ…ÙƒÙ† ØªØ±Ùƒ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ÙØ§Ø±ØºØ©ØŒ Ù„ÙƒÙ† ÙŠÙØ¶Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡
                 // alert('Ù„Ù… ØªØ®ØªØ± Ø¥Ø¬Ø§Ø¨Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„.');
            }

            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„
            currentQuestionIndex += direction;
            if (currentQuestionIndex >= 0 && currentQuestionIndex < currentExamData.questions.length) {
                displayQuestion();
            }
        }

        // 6. ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªÙŠØ¬Ø©
        function submitExam() {
            const qId = `q${currentQuestionIndex}`;
            const selected = document.querySelector(`input[name="${qId}"]:checked`);
            if (selected) {
                 userAnswers[qId] = selected.value;
            }

            let score = 0;
            const totalQuestions = currentExamData.questions.length;

            currentExamData.questions.forEach((qData, index) => {
                const questionId = `q${index}`;
                const userAnswer = userAnswers[questionId];
                if (userAnswer === qData.correct) {
                    score++;
                }
            });

            // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù†ØªÙŠØ¬Ø© (ÙÙŠ Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…ØªØµÙØ­ Ù…Ø¤Ù‚ØªØ§Ù‹)
            window.storedResults = window.storedResults || {};
            window.storedResults[currentExamData.level] = window.storedResults[currentExamData.level] || {};
            window.storedResults[currentExamData.level][currentExamData.subject] = score;

            // Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©
            displayResults(score, totalQuestions, currentExamData.level, currentExamData.subject);
        }

        // 7. Ø¹Ø±Ø¶ ØµÙØ­Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        function displayResults(score, total, level, subject) {
            const percentage = ((score / total) * 100).toFixed(2);
            const passed = score >= 10; // Ø´Ø±Ø· Ø§Ù„Ù†Ø¬Ø§Ø­ Ù…Ù† 20
            const statusClass = passed ? 'score-passed' : 'score-failed';
            const statusText = passed ? 'Ù†Ø§Ø¬Ø­' : 'Ø±Ø§Ø³Ø¨';
            
            const html = `
                <div class="sub-page" style="text-align: center;">
                    <button class="back-btn" onclick="buildExamSimulatorSubjectSelect('${level}')">
                        <i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹ Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ§Ø¯
                    </button>
                    <h2>Ù†ØªØ§Ø¦Ø¬ Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø§Ø¯Ø© ${subject} (${level}) ğŸ‰</h2>
                    
                    <div class="exam-question-container">
                        <h3>Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©:</h3>
                        <p style="font-size: 3rem; font-weight: bold; color: ${passed ? '#28a745' : '#dc3545'};">${score} / ${total}</p>
                        <p style="font-size: 1.5rem;">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©: ${percentage}%</p>
                        <p style="font-size: 1.5rem;" class="${statusClass}">Ø§Ù„Ø­Ø§Ù„Ø©: ${statusText}</p>
                    </div>
                    
                    <button class="main-btn" onclick="buildExamSimulatorSubjectSelect('${level}')">
                        <i class="fas fa-undo-alt"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù‚Ø§Ø¦Ù…Ø© Ù…ÙˆØ§Ø¯ ${level}
                    </button>
                </div>
            `;
            pagesContainer.innerHTML = html;
        }
        
        // ... (Ø¨Ù‚ÙŠØ© Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©) ...
        
    </script>
</body>
</html>

